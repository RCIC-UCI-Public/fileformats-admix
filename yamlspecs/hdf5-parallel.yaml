!include hdf5.yaml
---
- package: hdf5-parallel
  mpi: "{{ versions.mpi.name }}"
  mpi_ver: "{{ versions.mpi.version }}"
  pkgname: "{{ name }}_{{ version }}_{{compiler}}_{{compiler_ver}}_{{mpi}}_{{mpi_ver}}"
  root: "{{ pkg_defaults.app_path }}/{{ name }}/{{compiler}}/{{compiler_ver}}/{{mpi}}/{{mpi_ver}}/{{ version }}"
  description: |
    This is a parallel version compiled with gcc {{compiler_ver}} and {{mpi}} version {{mpi_ver}}.
    {{ base_description }}
  build:
    modules:
       - java/{{versions.java}}
       - "{{ compiler }}/{{compiler_ver}}"
       - "{{ mpi }}/{{mpi_ver}}"
    configure_args: |
       --enable-fortran --enable-cxx --enable-java
       --enable-optimization=high --enable-parallel
    target: 
